# GitHub Pages 404 错误排查

## 当前状态

- ✅ 文件已在GitHub仓库中：https://github.com/hsq66/yuhang/tree/main/docs
- ✅ index.html 文件存在
- ❌ 访问 https://hsq66.github.io/yuhang/ 显示404错误

## 可能的原因和解决方案

### 原因1：GitHub Pages配置错误 ⭐ 最可能

**检查步骤**：

1. 访问：https://github.com/hsq66/yuhang/settings/pages

2. 确认配置如下：
   ```
   Source: Deploy from a branch
   Branch: main
   Folder: /docs  ← 必须是 /docs，不是 / (root)
   ```

3. 如果配置不对，修改后点击 Save

4. 等待1-2分钟后刷新页面

### 原因2：baseURL配置问题

当前 `hugo.toml` 中的配置：
```toml
baseURL = "https://hsq66.github.io/yuhang/"
```

这个配置是正确的。但如果GitHub Pages配置为根目录部署，可能需要调整。

**解决方案A**：如果你想使用 `https://hsq66.github.io/yuhang/`

确保GitHub Pages配置：
- Branch: main
- Folder: /docs

**解决方案B**：如果你想使用 `https://yuhang2023.com`（自定义域名）

1. 在GitHub Pages设置中添加自定义域名
2. 修改 `hugo.toml`：
   ```toml
   baseURL = "https://yuhang2023.com/"
   ```
3. 重新构建并推送

### 原因3：等待时间不够

GitHub Pages部署需要时间：
- 首次部署：2-10分钟
- 后续更新：1-5分钟

**解决方案**：再等待5分钟后刷新

### 原因4：缓存问题

浏览器可能缓存了404页面。

**解决方案**：
- 按 Ctrl+Shift+R (Windows) 或 Cmd+Shift+R (Mac) 强制刷新
- 或使用无痕模式访问

## 立即检查清单

请按顺序检查以下项目：

### 1. 检查GitHub Pages设置

访问：https://github.com/hsq66/yuhang/settings/pages

应该看到：
```
✅ Your site is live at https://hsq66.github.io/yuhang/
```

如果看到错误信息，请告诉我具体内容。

### 2. 检查部署状态

访问：https://github.com/hsq66/yuhang/actions

查看是否有部署任务在运行或失败。

### 3. 检查文件是否存在

访问：https://github.com/hsq66/yuhang/blob/main/docs/index.html

应该能看到HTML文件内容。

### 4. 尝试直接访问文件

尝试访问：https://hsq66.github.io/yuhang/index.html

如果这个能访问，说明配置正确，只是根路径有问题。

## 正确的配置步骤（重新配置）

如果上述都不行，请完全重新配置：

1. 访问：https://github.com/hsq66/yuhang/settings/pages

2. 在 "Build and deployment" 部分：
   - 点击 Source 下拉菜单
   - 选择 "Deploy from a branch"

3. 在 "Branch" 部分：
   - 第一个下拉菜单选择：**main**
   - 第二个下拉菜单选择：**/docs** （不是 / (root)）

4. 点击 **Save** 按钮

5. 页面会刷新，顶部应该显示：
   ```
   Your site is ready to be published at https://hsq66.github.io/yuhang/
   ```

6. 等待2-3分钟

7. 刷新页面，应该会变成：
   ```
   Your site is live at https://hsq66.github.io/yuhang/
   ```

8. 点击 "Visit site" 按钮或直接访问 https://hsq66.github.io/yuhang/

## 替代方案：使用根目录部署

如果 `/docs` 文件夹部署一直有问题，可以尝试根目录部署：

### 步骤1：移动文件

```bash
# 将docs目录下的所有文件移动到根目录
cd docs
copy * ..
cd ..
```

### 步骤2：修改hugo.toml

```toml
baseURL = "https://hsq66.github.io/yuhang/"
```

改为：

```toml
baseURL = "https://hsq66.github.io/"
```

### 步骤3：重新构建

```bash
cd yuhang-hugo
hugo --destination .. --cleanDestinationDir
```

### 步骤4：修改GitHub Pages配置

- Branch: main
- Folder: / (root)

## 调试信息收集

如果问题仍然存在，请提供以下信息：

1. GitHub Pages设置页面的截图
2. 访问 https://hsq66.github.io/yuhang/ 时的完整错误信息
3. 浏览器控制台的错误信息（按F12打开）
4. 是否能访问 https://hsq66.github.io/yuhang/index.html

## 最可能的问题

根据经验，最可能的问题是：

1. **Folder选择错误**：选择了 / (root) 而不是 /docs
2. **等待时间不够**：首次部署需要5-10分钟
3. **浏览器缓存**：需要强制刷新

## 快速验证

请执行以下命令，然后告诉我结果：

```bash
# 检查docs目录是否有index.html
ls docs/index.html

# 检查文件大小
ls -l docs/index.html
```

如果文件存在且大小大于0，说明文件没问题，是GitHub Pages配置的问题。

## 联系我

请告诉我：
1. GitHub Pages设置页面显示的状态（"ready to be published" 还是 "live"）
2. Folder选择的是什么（/ (root) 还是 /docs）
3. 是否能访问 https://hsq66.github.io/yuhang/index.html
