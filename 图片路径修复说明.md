# 图片和资源路径修复说明

## 问题描述
GitHub Pages 部署后，所有图片和资源文件无法加载，因为 HTML 中使用的是指向原 WordPress 网站的绝对 URL。

## 修复内容

### 1. 图片路径修复 (fix-image-paths.py)
- **修复前**: `https://yuhang2023.com/wp-content/uploads/2025/12/图片.jpg`
- **修复后**: `wp-content/uploads/2025/12/图片.jpg`
- **影响**: 修复了 140+ 个图片路径

### 2. CSS/JS 资源路径修复 (fix-css-paths.py)
- **修复前**: `https://yuhang2023.com/wp-content/themes/wens-track/assets/css/style.css`
- **修复后**: `assets/css/style.css`
- **修复前**: `assets/wens-track/assets/css/` (重复路径)
- **修复后**: `assets/css/`

### 3. 字体文件路径修复
- **修复前**: `url('assets/wens-track/assets/fonts/montserrat/montserrat.woff2')`
- **修复后**: `url('assets/fonts/montserrat/montserrat.woff2')`

## 文件结构
```
docs/
├── index.html                    # 主页面（已修复所有路径）
├── assets/                       # 主题资源文件
│   ├── css/                      # 样式文件
│   ├── js/                       # JavaScript 文件
│   ├── fonts/                    # 字体文件
│   └── images/                   # 主题图片
└── wp-content/
    └── uploads/                  # 用户上传的图片
        └── 2025/12/              # 按日期组织
            ├── *.jpg             # 原始图片
            ├── *.png             # 原始图片
            └── *.webp            # WebP 优化图片
```

## 验证方法
1. 访问 GitHub Pages: https://hsq66.github.io/yuhang/
2. 检查所有图片是否正常显示
3. 检查页面样式是否正确加载
4. 测试移动端菜单功能

## 相关脚本
- `fix-image-paths.py` - 修复图片和上传文件路径
- `fix-css-paths.py` - 修复 CSS、JS 和字体路径
- `optimize-images.py` - 图片 WebP 优化（已完成）
- `update-html-for-webp.py` - 更新 HTML 使用 WebP 图片（已完成）

## 提交记录
1. `433f8f3` - 修复图片路径：将所有绝对URL转换为相对路径以支持GitHub Pages
2. `abd47f0` - 修复CSS和字体路径：移除重复的assets路径

## 注意事项
- 所有路径现在都是相对路径，适配 GitHub Pages 的 `/yuhang/` 子目录部署
- WebP 图片已优化，平均减少 60-90% 文件大小
- 使用 `<picture>` 标签提供 WebP 格式并保留原格式作为 fallback
- 移动端菜单已优化（汉堡菜单、侧滑效果、遮罩层）

## 下一步
等待 GitHub Pages 重新部署（通常需要 1-2 分钟），然后测试网站功能。
